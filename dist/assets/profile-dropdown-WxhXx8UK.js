import{r as l,j as e,c as x,a as D,b as I,B as y,L as j}from"./index-DIMaQiqK.js";import{C as R,u as k}from"./confirm-dialog-DJf4rgZ7.js";import{c as P,b as g}from"./index-CC1GEaG-.js";import{a as _}from"./index-CxwEreXY.js";import{P as v}from"./index-BIXP3q5l.js";import{s as F}from"./index-zGnDUOIW.js";import{D as T,f as z,g as B,h as O,i as S,Z as $,j as m,U as f}from"./alert-dialog-B-EaQZu9.js";import{u as G}from"./layout-provider-XSE7bRoD.js";function H(){return F.useSyncExternalStore(q,()=>!0,()=>!1)}function q(){return()=>{}}var h="Avatar",[K]=P(h),[Q,A]=K(h),L=l.forwardRef((a,t)=>{const{__scopeAvatar:s,...r}=a,[o,n]=l.useState("idle");return e.jsx(Q,{scope:s,imageLoadingStatus:o,onImageLoadingStatusChange:n,children:e.jsx(v.span,{...r,ref:t})})});L.displayName=h;var C="AvatarImage",N=l.forwardRef((a,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:o=()=>{},...n}=a,u=A(C,s),i=U(r,n),d=_(c=>{o(c),u.onImageLoadingStatusChange(c)});return g(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?e.jsx(v.img,{...n,ref:t,src:r}):null});N.displayName=C;var E="AvatarFallback",M=l.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:r,...o}=a,n=A(E,s),[u,i]=l.useState(r===void 0);return l.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(d)}},[r]),u&&n.imageLoadingStatus!=="loaded"?e.jsx(v.span,{...o,ref:t}):null});M.displayName=E;function w(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U(a,{referrerPolicy:t,crossOrigin:s}){const r=H(),o=l.useRef(null),n=r?(o.current||(o.current=new window.Image),o.current):null,[u,i]=l.useState(()=>w(n,a));return g(()=>{i(w(n,a))},[n,a]),g(()=>{const d=b=>()=>{i(b)};if(!n)return;const c=d("loaded"),p=d("error");return n.addEventListener("load",c),n.addEventListener("error",p),t&&(n.referrerPolicy=t),typeof s=="string"&&(n.crossOrigin=s),()=>{n.removeEventListener("load",c),n.removeEventListener("error",p)}},[n,s,t]),u}var V=L,W=N,Y=M;function Z({className:a,...t}){return e.jsx(V,{"data-slot":"avatar",className:x("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...t})}function J({className:a,...t}){return e.jsx(W,{"data-slot":"avatar-image",className:x("aspect-square size-full",a),...t})}function X({className:a,...t}){return e.jsx(Y,{"data-slot":"avatar-fallback",className:x("bg-muted flex size-full items-center justify-center rounded-full",a),...t})}function ee({open:a,onOpenChange:t}){const s=D(),r=G(),{auth:o}=I(),n=()=>{o.reset();const u=r.href;s({to:"/sign-in",search:{redirect:u},replace:!0})};return e.jsx(R,{open:a,onOpenChange:t,title:"Sign out",desc:"Are you sure you want to sign out? You will need to sign in again to access your account.",confirmText:"Sign out",handleConfirm:n,className:"sm:max-w-sm"})}function ue(){const[a,t]=k();return e.jsxs(e.Fragment,{children:[e.jsxs(T,{modal:!1,children:[e.jsx(z,{asChild:!0,children:e.jsx(y,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(Z,{className:"h-8 w-8",children:[e.jsx(J,{src:"/avatars/01.png",alt:"@shadcn"}),e.jsx(X,{children:"SN"})]})})}),e.jsxs(B,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(O,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("p",{className:"text-sm leading-none font-medium",children:"satnaing"}),e.jsx("p",{className:"text-muted-foreground text-xs leading-none",children:"satnaingdev@gmail.com"})]})}),e.jsx(S,{}),e.jsxs($,{children:[e.jsx(m,{asChild:!0,children:e.jsxs(j,{to:"/settings",children:["Profile",e.jsx(f,{children:"⇧⌘P"})]})}),e.jsx(m,{asChild:!0,children:e.jsxs(j,{to:"/settings",children:["Settings",e.jsx(f,{children:"⌘S"})]})})]}),e.jsx(S,{}),e.jsxs(m,{onClick:()=>t(!0),children:["Sign out",e.jsx(f,{children:"⇧⌘Q"})]})]})]}),e.jsx(ee,{open:!!a,onOpenChange:t})]})}export{ue as P};
