import{r as p,e as ke,j as e,c as L,t as k,B as x,w as ze,u as Ee}from"./index-B_HhO1BD.js";import{I as pe}from"./input-C9qR2CI3.js";import{C as te,d as ae,a as le,b as oe,c as ce}from"./card-DQDZF1f8.js";import{B as Ie}from"./badge-Dxifg8Bp.js";import{S as Fe}from"./separator--964OeUg.js";import{D as q,a as Z,b as Q,c as F}from"./dropdown-menu-B8Y2P75d.js";import{u as ge}from"./dataset-store-BMT2huA0.js";import{D as _e,d as Me,a as Ae,b as Re,c as $e,e as Le}from"./dialog-D8sxmf9z.js";import{a as J,C as Ue,P as Be}from"./processing-status-badge-CqUkkuRK.js";import{T as Ge}from"./textarea-DmBfN8NY.js";import{u as Pe,c as Ve,e as Oe,a as Y}from"./index-DYm5icJq.js";import{c as fe,R as Ke,I as Xe}from"./index-C4ZU240X.js";import{P as He}from"./index-DiU1bmsz.js";import{P as U}from"./index-51J0CxvN.js";import{c as B}from"./createLucideIcon-QzJBPPa0.js";import{X as W}from"./index-CtFV1-CA.js";import{P as de,F as qe,G as Ze,L as Qe}from"./plus-_dU-OX-D.js";import{L as Je}from"./loader-circle-Cx0hSTzX.js";import{C as Ye}from"./circle-check-DsNFNyQa.js";import{A as me}from"./arrow-left-CaYkEh5A.js";import{S as We,T as ue}from"./trash-2-D60P6hdb.js";import{S as es}from"./search-C4avjcUo.js";import{E as xe}from"./eye-DeWb-JlV.js";import{D as he}from"./download-B_6KyjGe.js";import"./index-CWPVk02v.js";import"./index-BFTPONSX.js";import"./middleware-BFCXRDQO.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ts=B("clock",ss);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ns=B("link",as);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],is=B("type",rs);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],A=B("upload",ls);var G="Tabs",[os]=Ve(G,[fe]),je=fe(),[cs,ne]=os(G),ve=p.forwardRef((r,c)=>{const{__scopeTabs:b,value:g,onValueChange:N,defaultValue:D,orientation:d="horizontal",dir:f,activationMode:w="automatic",...h}=r,u=ke(f),[m,y]=Pe({prop:g,onChange:N,defaultProp:D??"",caller:G});return e.jsx(cs,{scope:b,baseId:Oe(),value:m,onValueChange:y,orientation:d,dir:u,activationMode:w,children:e.jsx(U.div,{dir:u,"data-orientation":d,...h,ref:c})})});ve.displayName=G;var Ne="TabsList",we=p.forwardRef((r,c)=>{const{__scopeTabs:b,loop:g=!0,...N}=r,D=ne(Ne,b),d=je(b);return e.jsx(Ke,{asChild:!0,...d,orientation:D.orientation,dir:D.dir,loop:g,children:e.jsx(U.div,{role:"tablist","aria-orientation":D.orientation,...N,ref:c})})});we.displayName=Ne;var be="TabsTrigger",De=p.forwardRef((r,c)=>{const{__scopeTabs:b,value:g,disabled:N=!1,...D}=r,d=ne(be,b),f=je(b),w=Ce(d.baseId,g),h=Se(d.baseId,g),u=g===d.value;return e.jsx(Xe,{asChild:!0,...f,focusable:!N,active:u,children:e.jsx(U.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":h,"data-state":u?"active":"inactive","data-disabled":N?"":void 0,disabled:N,id:w,...D,ref:c,onMouseDown:Y(r.onMouseDown,m=>{!N&&m.button===0&&m.ctrlKey===!1?d.onValueChange(g):m.preventDefault()}),onKeyDown:Y(r.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&d.onValueChange(g)}),onFocus:Y(r.onFocus,()=>{const m=d.activationMode!=="manual";!u&&!N&&m&&d.onValueChange(g)})})})});De.displayName=be;var ye="TabsContent",Te=p.forwardRef((r,c)=>{const{__scopeTabs:b,value:g,forceMount:N,children:D,...d}=r,f=ne(ye,b),w=Ce(f.baseId,g),h=Se(f.baseId,g),u=g===f.value,m=p.useRef(u);return p.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(He,{present:N||u,children:({present:y})=>e.jsx(U.div,{"data-state":u?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":w,hidden:!y,id:h,tabIndex:0,...d,ref:c,style:{...r.style,animationDuration:m.current?"0s":void 0},children:y&&D})})});Te.displayName=ye;function Ce(r,c){return`${r}-trigger-${c}`}function Se(r,c){return`${r}-content-${c}`}var ds=ve,ms=we,us=De,xs=Te;function hs({className:r,...c}){return e.jsx(ds,{"data-slot":"tabs",className:L("flex flex-col gap-2",r),...c})}function ps({className:r,...c}){return e.jsx(ms,{"data-slot":"tabs-list",className:L("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",r),...c})}function ee({className:r,...c}){return e.jsx(us,{"data-slot":"tabs-trigger",className:L("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...c})}function se({className:r,...c}){return e.jsx(xs,{"data-slot":"tabs-content",className:L("flex-1 outline-none",r),...c})}function gs({open:r,onOpenChange:c,datasetId:b}){const{uploadFileToDataset:g,addTextToDataset:N,addUrlToDataset:D}=ge(),[d,f]=p.useState([]),[w,h]=p.useState([]),[u,m]=p.useState([]),[y,E]=p.useState(!1),[z,j]=p.useState(""),[S,_]=p.useState(""),M=p.useRef(null),R=s=>{const o=Array.from(s.target.files||[]),l=50*1024*1024,v=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/jpg","image/png","image/gif","image/webp"],i=[],t=[];o.forEach(n=>{if(n.size>l){t.push(`${n.name} (zu groß: ${O(n.size)}, max. 50MB)`);return}if(!v.includes(n.type)){t.push(`${n.name} (nicht unterstützt: ${n.type})`);return}i.push({file:n,progress:0,status:"pending"})}),i.length>0&&f(n=>[...n,...i]),t.length>0&&k.error(`${t.length} Datei(en) konnten nicht hinzugefügt werden:
${t.join(`
`)}`)},P=()=>{z.trim()&&(h(s=>[...s,{text:z.trim(),progress:0,status:"pending"}]),j(""))},V=()=>{if(S.trim())try{new URL(S.trim()),m(s=>[...s,{url:S.trim(),progress:0,status:"pending"}]),_("")}catch{k.error("Bitte geben Sie eine gültige URL ein")}},a=s=>{f(o=>o.filter((l,v)=>v!==s))},C=s=>{h(o=>o.filter((l,v)=>v!==s))},$=s=>{m(o=>o.filter((l,v)=>v!==s))},re=p.useCallback(async()=>{const s=d.length+w.length+u.length;if(s===0)return;E(!0);let o=!1;for(let l=0;l<d.length;l++){const v=d[l];f(i=>i.map((t,n)=>n===l?{...t,status:"uploading"}:t));try{for(let i=0;i<=100;i+=10)await new Promise(t=>setTimeout(t,100)),f(t=>t.map((n,T)=>T===l?{...n,progress:i}:n));await g(b,v.file,{fileName:v.file.name,fileType:v.file.type,fileSize:v.file.size}),f(i=>i.map((t,n)=>n===l?{...t,status:"completed",progress:100}:t))}catch(i){o=!0,f(t=>t.map((n,T)=>T===l?{...n,status:"error",error:i instanceof Error?i.message:"Upload fehlgeschlagen"}:n))}}for(let l=0;l<w.length;l++){const v=w[l];h(i=>i.map((t,n)=>n===l?{...t,status:"uploading"}:t));try{for(let i=0;i<=100;i+=10)await new Promise(t=>setTimeout(t,100)),h(t=>t.map((n,T)=>T===l?{...n,progress:i}:n));await N(b,v.text),h(i=>i.map((t,n)=>n===l?{...t,status:"completed",progress:100}:t))}catch(i){o=!0,h(t=>t.map((n,T)=>T===l?{...n,status:"error",error:i instanceof Error?i.message:"Upload fehlgeschlagen"}:n))}}for(let l=0;l<u.length;l++){const v=u[l];m(i=>i.map((t,n)=>n===l?{...t,status:"uploading"}:t));try{for(let i=0;i<=100;i+=10)await new Promise(t=>setTimeout(t,100)),m(t=>t.map((n,T)=>T===l?{...n,progress:i}:n));await D(b,v.url),m(i=>i.map((t,n)=>n===l?{...t,status:"completed",progress:100}:t))}catch(i){o=!0,m(t=>t.map((n,T)=>T===l?{...n,status:"error",error:i instanceof Error?i.message:"Upload fehlgeschlagen"}:n))}}E(!1),o?k.error("Einige Elemente konnten nicht hinzugefügt werden"):(k.success(`${s} Element${s!==1?"e":""} erfolgreich hinzugefügt`),c(!1),f([]),h([]),m([]))},[d,w,u,b,g,N,D,c]),O=s=>{if(s===0)return"0 Bytes";const o=1024,l=["Bytes","KB","MB","GB"],v=Math.floor(Math.log(s)/Math.log(o));return parseFloat((s/Math.pow(o,v)).toFixed(2))+" "+l[v]},K=(s,o=50)=>s.length<=o?s:s.substring(0,o)+"...",I=s=>{switch(s){case"completed":return e.jsx(Ye,{className:"h-4 w-4 text-green-600"});case"error":return e.jsx(Ue,{className:"h-4 w-4 text-red-600"});case"uploading":return e.jsx(Je,{className:"h-4 w-4 animate-spin"});default:return e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})}},X=s=>{switch(s){case"completed":return"Abgeschlossen";case"error":return"Fehlgeschlagen";case"uploading":return"Wird hochgeladen...";default:return"Bereit"}},H=d.length+w.length+u.length,ie=s=>{s||(f([]),h([]),m([]),j(""),_(""),E(!1)),c(s)};return e.jsx(_e,{open:r,onOpenChange:ie,children:e.jsxs(Me,{className:"sm:max-w-[600px]",children:[e.jsxs(Ae,{children:[e.jsx(Re,{children:"Daten zu Dataset hinzufügen"}),e.jsx($e,{children:"Fügen Sie Dateien, Texte oder URLs zu diesem Dataset hinzu."})]}),e.jsxs(hs,{defaultValue:"files",className:"w-full",children:[e.jsxs(ps,{className:"grid w-full grid-cols-3",children:[e.jsxs(ee,{value:"files",className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Dateien"]}),e.jsxs(ee,{value:"text",className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-4 w-4"}),"Text"]}),e.jsxs(ee,{value:"urls",className:"flex items-center gap-2",children:[e.jsx(ns,{className:"h-4 w-4"}),"URLs"]})]}),e.jsxs(se,{value:"files",className:"space-y-4",children:[e.jsx(te,{className:"border-2 border-dashed border-muted-foreground/25 hover:border-muted-foreground/50 transition-colors cursor-pointer",onClick:()=>M.current?.click(),children:e.jsxs(ae,{className:"p-6 text-center",children:[e.jsx(A,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Dateien hochladen"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Klicken Sie, um Dateien auszuwählen oder ziehen Sie sie hierher"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Unterstützte Formate: PDF, DOC, DOCX, TXT, PPT, PPTX, XLS, XLSX, JPG, PNG, GIF, WEBP (max. 50MB)"}),e.jsx("input",{ref:M,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.ppt,.pptx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.webp",onChange:R,className:"hidden"})]})}),d.length>0&&e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:d.map((s,o)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-muted/50 transition-colors rounded",children:[I(s.status),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",children:K(s.file.name)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:O(s.file.size)}),s.status==="uploading"&&e.jsx(J,{value:s.progress,className:"h-1 mt-1"}),s.status==="error"&&s.error&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:s.error})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[I(s.status),e.jsx("span",{children:X(s.status)})]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>a(o),disabled:s.status==="uploading",className:"h-6 w-6 p-0",children:e.jsx(W,{className:"h-3 w-3"})})]})]},o))})]}),e.jsxs(se,{value:"text",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ge,{placeholder:"Geben Sie hier Ihren Text ein...",value:z,onChange:s=>j(s.target.value),className:"min-h-[100px]"}),e.jsxs(x,{onClick:P,disabled:!z.trim(),children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Text hinzufügen"]})]}),w.length>0&&e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:w.map((s,o)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-muted/50 transition-colors rounded",children:[I(s.status),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",children:K(s.text)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.text.length," Zeichen"]}),s.status==="uploading"&&e.jsx(J,{value:s.progress,className:"h-1 mt-1"}),s.status==="error"&&s.error&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:s.error})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[I(s.status),e.jsx("span",{children:X(s.status)})]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>C(o),disabled:s.status==="uploading",className:"h-6 w-6 p-0",children:e.jsx(W,{className:"h-3 w-3"})})]})]},o))})]}),e.jsxs(se,{value:"urls",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(pe,{placeholder:"https://example.com",value:S,onChange:s=>_(s.target.value),type:"url"}),e.jsxs(x,{onClick:V,disabled:!S.trim(),children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"URL hinzufügen"]})]}),u.length>0&&e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:u.map((s,o)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-muted/50 transition-colors rounded",children:[I(s.status),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium",children:K(s.url)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"URL"}),s.status==="uploading"&&e.jsx(J,{value:s.progress,className:"h-1 mt-1"}),s.status==="error"&&s.error&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:s.error})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[I(s.status),e.jsx("span",{children:X(s.status)})]}),e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>$(o),disabled:s.status==="uploading",className:"h-6 w-6 p-0",children:e.jsx(W,{className:"h-3 w-3"})})]})]},o))})]})]}),e.jsxs(Le,{children:[e.jsx(x,{variant:"outline",onClick:()=>ie(!1),children:"Abbrechen"}),e.jsx(x,{onClick:re,disabled:H===0||y,children:y?"Wird hochgeladen...":`${H} Element${H!==1?"e":""} hinzufügen`})]})]})})}function fs(){const{datasetId:r}=ze({from:"/_authenticated/library/datasets/$datasetId"}),c=Ee(),{getDatasetById:b,removeFileFromDataset:g,fetchDatasetData:N,processDatasets:D,checkDatasetStatus:d}=ge(),[f,w]=p.useState(!1),[h,u]=p.useState(""),[m,y]=p.useState("grid"),[E,z]=p.useState(!1),j=b(r);if(p.useEffect(()=>{r&&N(r).catch(a=>{console.error("Failed to fetch dataset data:",a),k.error("Fehler beim Laden der Dataset-Dateien")})},[r,N]),p.useEffect(()=>{if(j?.processingStatus==="DATASET_PROCESSING_STARTED"){const a=setInterval(()=>{d(r)},5e3);return()=>clearInterval(a)}},[j?.processingStatus,r,d]),!j)return e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Dataset nicht gefunden"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Das gesuchte Dataset existiert nicht."}),e.jsxs(x,{onClick:()=>c({to:"/library/datasets"}),children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Zurück zu Datasets"]})]})});const S=j.files.filter(a=>a.name.toLowerCase().includes(h.toLowerCase())),_=a=>new Intl.DateTimeFormat("de-DE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(a)),M=(a,C=30)=>{if(a.length<=C)return a;const $=a.split(".").pop();return`${a.substring(0,a.lastIndexOf(".")).substring(0,C-$.length-4)+"..."}.${$}`},R=(a,C)=>{g(r,a),k.success(`${C} wurde erfolgreich entfernt.`)},P=async()=>{if(j){z(!0);try{await D([r]),k.success(`Dataset "${j.name}" wird verarbeitet.`),setTimeout(()=>{d(r)},50)}catch(a){k.error(`Verarbeitung fehlgeschlagen: ${a instanceof Error?a.message:"Unbekannter Fehler"}`)}finally{z(!1)}}},V=!j?.processingStatus||j.processingStatus==="DATASET_PROCESSING_INITIATED"||j.processingStatus==="DATASET_PROCESSING_ERRORED";return e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>c({to:"/library/datasets"}),children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Zurück"})]}),e.jsx(Fe,{orientation:"vertical",className:"h-6 hidden sm:block"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold truncate",children:j.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{status:j.processingStatus}),e.jsxs(x,{variant:"outline",size:"sm",className:"h-7 text-xs w-fit",children:[e.jsx(We,{className:"mr-1 h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Bearbeiten"}),e.jsx("span",{className:"sm:hidden",children:"Edit"})]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.description}),j.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:j.tags.map(a=>e.jsx(Ie,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:a},a))})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[V&&e.jsx(x,{size:"sm",variant:"outline",onClick:P,disabled:E,className:"w-full sm:w-auto",children:E?"Wird verarbeitet...":"Dataset verarbeiten"}),e.jsxs(x,{size:"sm",onClick:()=>w(!0),className:"w-full sm:w-auto",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Daten hinzufügen"}),e.jsx("span",{className:"sm:hidden",children:"Hinzufügen"})]})]})]}),e.jsxs(te,{className:"border-0 shadow-none",children:[e.jsx(le,{className:"pb-3",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(oe,{className:"text-sm font-medium",children:"Dateien"}),e.jsxs(ce,{className:"text-xs mt-1",children:[j.files.length," Dateien in diesem Dataset"]})]})})}),e.jsxs(ae,{className:"pt-0",children:[e.jsxs("div",{className:"flex flex-col gap-3 mb-3 sm:flex-row sm:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(es,{className:"absolute left-2 top-1/2 h-3 w-3 -translate-y-1/2 text-muted-foreground"}),e.jsx(pe,{placeholder:"Dateien durchsuchen...",value:h,onChange:a=>u(a.target.value),className:"pl-7 h-8 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(q,{children:[e.jsx(Z,{asChild:!0,children:e.jsxs(x,{variant:"outline",size:"sm",className:"h-8 flex-1 sm:flex-none",children:[e.jsx(qe,{className:"mr-1 h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Filter"})]})}),e.jsxs(Q,{children:[e.jsx(F,{children:"Alle Dateien"}),e.jsx(F,{children:"Zuletzt hochgeladen"}),e.jsx(F,{children:"Größte Dateien"})]})]}),e.jsxs("div",{className:"flex rounded-md border",children:[e.jsx(x,{variant:m==="grid"?"default":"ghost",size:"sm",onClick:()=>y("grid"),className:"rounded-r-none h-8 px-2",children:e.jsx(Ze,{className:"h-3 w-3"})}),e.jsx(x,{variant:m==="list"?"default":"ghost",size:"sm",onClick:()=>y("list"),className:"rounded-l-none h-8 px-2",children:e.jsx(Qe,{className:"h-3 w-3"})})]})]})]}),S.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:e.jsx(A,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-base font-semibold",children:h?"Keine Dateien gefunden":"Keine Dateien hochgeladen"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:h?"Versuchen Sie, Ihre Suchbegriffe anzupassen.":"Laden Sie Dateien hoch, um mit diesem Dataset zu beginnen."}),!h&&e.jsxs(x,{size:"sm",onClick:()=>w(!0),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Daten hinzufügen"]})]}):e.jsx("div",{className:m==="grid"?"grid gap-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"space-y-2",children:S.map(a=>m==="grid"?e.jsxs(te,{className:"cursor-pointer transition-colors hover:bg-muted/50",children:[e.jsx(le,{className:"pb-2",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(oe,{className:"text-sm",title:a.name,children:M(a.name)}),e.jsx(ce,{className:"mt-1 text-xs",children:a.type})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:C=>C.stopPropagation(),children:e.jsx(xe,{className:"h-3 w-3"})}),e.jsxs(q,{children:[e.jsx(Z,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:C=>C.stopPropagation(),children:"⋯"})}),e.jsxs(Q,{children:[e.jsxs(F,{children:[e.jsx(he,{className:"mr-2 h-3 w-3"}),"Herunterladen"]}),e.jsxs(F,{className:"text-destructive",onClick:()=>R(a.id,a.name),children:[e.jsx(ue,{className:"mr-2 h-3 w-3"}),"Löschen"]})]})]})]})]})}),e.jsx(ae,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:a.extension?.toUpperCase()||"UNKNOWN"}),e.jsx("span",{children:_(a.uploadDate)})]})})]},a.id):e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"text-sm font-medium truncate",title:a.name,children:M(a.name)})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(x,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(xe,{className:"h-3 w-3"})}),e.jsx(x,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:e.jsx(he,{className:"h-3 w-3"})}),e.jsxs(q,{children:[e.jsx(Z,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:"⋯"})}),e.jsx(Q,{children:e.jsxs(F,{className:"text-destructive",onClick:()=>R(a.id,a.name),children:[e.jsx(ue,{className:"mr-2 h-3 w-3"}),"Löschen"]})})]})]})]},a.id))})]})]}),e.jsx(gs,{open:f,onOpenChange:w,datasetId:r})]})}const Ks=fs;export{Ks as component};
