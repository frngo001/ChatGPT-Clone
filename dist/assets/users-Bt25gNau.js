import{o as W,j as e,B as j,q as fe,s as m,r as g,R as J,t as R,d as _,c as y}from"./index-DIMaQiqK.js";import{u as X,a as G,F as Q,b as u,c as h,d as x,e as f,f as p}from"./form-GJjTgU3y.js";import{s as I}from"./show-submitted-data-B53iSyRV.js";import{D as Y,a as Z,b as ee,c as se,d as ae,e as te,f as ye}from"./dialog-D7WmZxd8.js";import{I as w}from"./input-DwMM6V_f.js";import{P as $}from"./password-input-B0CSz8fV.js";import{S as re,T as le,D as ve,a as C,u as Ne,b as be,i as we,j as Ce,k as ke,l as F,m as Se,n as V,o as De,p as E,q as Te,g as Pe,c as Re,d as Me,f as Ue,h as Fe,e as _e,r as d}from"./chunk-KZPPZA2C-CGJArqsw.js";import{A as ne,a as oe,b as ie}from"./alert-BIDhsoKf.js";import{L as ce}from"./label-silgF2fK.js";import{C as de,u as Ie}from"./confirm-dialog-DJf4rgZ7.js";import{T as ze}from"./textarea-B9OZzLPo.js";import{c as v}from"./createLucideIcon-BLFTGKfC.js";import{S as Ae}from"./shield-DGVZmpGr.js";import{T as D,K as T,L as P,V as $e,D as Ve,f as Ee,g as qe,j as q,U as H,i as He}from"./alert-dialog-B-EaQZu9.js";import{T as me,B as Le}from"./badge-8qpgVGq-.js";import{C as L}from"./checkbox-CysvYu25.js";import{P as Oe,a as Be,b as Ke}from"./popover-MiYlcMYm.js";import{D as We}from"./react-icons.esm-WA9wnohK.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xe=v("credit-card",Je);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M16 19h6",key:"xwg31i"}]],ue=v("mail-plus",Ge);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ye=v("mail",Qe);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],es=v("send",Ze);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],he=v("user-check",ss);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M11.5 15H7a4 4 0 0 0-4 4v2",key:"15lzij"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]],ts=v("user-pen",as);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ls=v("user-plus",rs);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],os=v("user-x",ns);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cs=v("users",is),ds=new Map([["active","bg-teal-100/30 text-teal-900 dark:text-teal-200 border-teal-200"],["inactive","bg-neutral-300/40 border-neutral-300"],["invited","bg-sky-200/40 text-sky-900 dark:text-sky-100 border-sky-300"],["suspended","bg-destructive/10 dark:bg-destructive/50 text-destructive dark:text-primary border-destructive/10"]]),M=[{label:"Superadmin",value:"superadmin",icon:Ae},{label:"Admin",value:"admin",icon:he},{label:"Manager",value:"manager",icon:cs},{label:"Cashier",value:"cashier",icon:Xe}],ms=W({firstName:m().min(1,"First Name is required."),lastName:m().min(1,"Last Name is required."),username:m().min(1,"Username is required."),phoneNumber:m().min(1,"Phone number is required."),email:m().email("Please enter a valid email address"),password:m().transform(s=>s.trim()),role:m().min(1,"Role is required."),confirmPassword:m().transform(s=>s.trim()),isEdit:fe()}).refine(s=>s.isEdit&&!s.password?!0:s.password.length>0,{message:"Password is required.",path:["password"]}).refine(({isEdit:s,password:a})=>s&&!a?!0:a.length>=8,{message:"Password must be at least 8 characters long.",path:["password"]}).refine(({isEdit:s,password:a})=>s&&!a?!0:/[a-z]/.test(a),{message:"Password must contain at least one lowercase letter.",path:["password"]}).refine(({isEdit:s,password:a})=>s&&!a?!0:/\d/.test(a),{message:"Password must contain at least one number.",path:["password"]}).refine(({isEdit:s,password:a,confirmPassword:t})=>s&&!a?!0:a===t,{message:"Passwords don't match.",path:["confirmPassword"]});function O({currentRow:s,open:a,onOpenChange:t}){const l=!!s,r=X({resolver:G(ms),defaultValues:l?{...s,password:"",confirmPassword:"",isEdit:l}:{firstName:"",lastName:"",username:"",email:"",role:"",phoneNumber:"",password:"",confirmPassword:"",isEdit:l}}),o=n=>{r.reset(),I(n),t(!1)},i=!!r.formState.dirtyFields.password;return e.jsx(Y,{open:a,onOpenChange:n=>{r.reset(),t(n)},children:e.jsxs(Z,{className:"sm:max-w-lg",children:[e.jsxs(ee,{className:"text-start",children:[e.jsx(se,{children:l?"Edit User":"Add New User"}),e.jsxs(ae,{children:[l?"Update the user here. ":"Create new user here. ","Click save when you're done."]})]}),e.jsx("div",{className:"h-[26.25rem] w-[calc(100%+0.75rem)] overflow-y-auto py-1 pe-3",children:e.jsx(Q,{...r,children:e.jsxs("form",{id:"user-form",onSubmit:r.handleSubmit(o),className:"space-y-4 px-0.5",children:[e.jsx(u,{control:r.control,name:"firstName",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"First Name"}),e.jsx(f,{children:e.jsx(w,{placeholder:"John",className:"col-span-4",autoComplete:"off",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"lastName",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Last Name"}),e.jsx(f,{children:e.jsx(w,{placeholder:"Doe",className:"col-span-4",autoComplete:"off",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"username",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Username"}),e.jsx(f,{children:e.jsx(w,{placeholder:"john_doe",className:"col-span-4",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"email",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Email"}),e.jsx(f,{children:e.jsx(w,{placeholder:"john.doe@gmail.com",className:"col-span-4",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"phoneNumber",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Phone Number"}),e.jsx(f,{children:e.jsx(w,{placeholder:"+123456789",className:"col-span-4",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"role",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Role"}),e.jsx(re,{defaultValue:n.value,onValueChange:n.onChange,placeholder:"Select a role",className:"col-span-4",items:M.map(({label:k,value:U})=>({label:k,value:U}))}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"password",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Password"}),e.jsx(f,{children:e.jsx($,{placeholder:"e.g., S3cur3P@ssw0rd",className:"col-span-4",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})}),e.jsx(u,{control:r.control,name:"confirmPassword",render:({field:n})=>e.jsxs(h,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(x,{className:"col-span-2 text-end",children:"Confirm Password"}),e.jsx(f,{children:e.jsx($,{disabled:!i,placeholder:"e.g., S3cur3P@ssw0rd",className:"col-span-4",...n})}),e.jsx(p,{className:"col-span-4 col-start-3"})]})})]})})}),e.jsx(te,{children:e.jsx(j,{type:"submit",form:"user-form",children:"Save changes"})})]})})}function us({open:s,onOpenChange:a,currentRow:t}){const[l,r]=g.useState(""),o=()=>{l.trim()===t.username&&(a(!1),I(t,"The following user has been deleted:"))};return e.jsx(de,{open:s,onOpenChange:a,handleConfirm:o,disabled:l.trim()!==t.username,title:e.jsxs("span",{className:"text-destructive",children:[e.jsx(le,{className:"stroke-destructive me-1 inline-block",size:18})," ","Delete User"]}),desc:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"mb-2",children:["Are you sure you want to delete"," ",e.jsx("span",{className:"font-bold",children:t.username}),"?",e.jsx("br",{}),"This action will permanently remove the user with the role of"," ",e.jsx("span",{className:"font-bold",children:t.role.toUpperCase()})," ","from the system. This cannot be undone."]}),e.jsxs(ce,{className:"my-2",children:["Username:",e.jsx(w,{value:l,onChange:i=>r(i.target.value),placeholder:"Enter username to confirm deletion."})]}),e.jsxs(ne,{variant:"destructive",children:[e.jsx(oe,{children:"Warning!"}),e.jsx(ie,{children:"Please be careful, this operation can not be rolled back."})]})]}),confirmText:"Delete",destructive:!0})}const hs=W({email:m().email("Please enter a valid email address"),role:m().min(1,"Role is required."),desc:m().optional()});function xs({open:s,onOpenChange:a}){const t=X({resolver:G(hs),defaultValues:{email:"",role:"",desc:""}}),l=r=>{t.reset(),I(r),a(!1)};return e.jsx(Y,{open:s,onOpenChange:r=>{t.reset(),a(r)},children:e.jsxs(Z,{className:"sm:max-w-md",children:[e.jsxs(ee,{className:"text-start",children:[e.jsxs(se,{className:"flex items-center gap-2",children:[e.jsx(ue,{})," Invite User"]}),e.jsx(ae,{children:"Invite new user to join your team by sending them an email invitation. Assign a role to define their access level."})]}),e.jsx(Q,{...t,children:e.jsxs("form",{id:"user-invite-form",onSubmit:t.handleSubmit(l),className:"space-y-4",children:[e.jsx(u,{control:t.control,name:"email",render:({field:r})=>e.jsxs(h,{children:[e.jsx(x,{children:"Email"}),e.jsx(f,{children:e.jsx(w,{type:"email",placeholder:"eg: john.doe@gmail.com",...r})}),e.jsx(p,{})]})}),e.jsx(u,{control:t.control,name:"role",render:({field:r})=>e.jsxs(h,{children:[e.jsx(x,{children:"Role"}),e.jsx(re,{defaultValue:r.value,onValueChange:r.onChange,placeholder:"Select a role",items:M.map(({label:o,value:i})=>({label:o,value:i}))}),e.jsx(p,{})]})}),e.jsx(u,{control:t.control,name:"desc",render:({field:r})=>e.jsxs(h,{className:"",children:[e.jsx(x,{children:"Description (optional)"}),e.jsx(f,{children:e.jsx(ze,{className:"resize-none",placeholder:"Add a personal note to your invitation (optional)",...r})}),e.jsx(p,{})]})})]})}),e.jsxs(te,{className:"gap-y-2",children:[e.jsx(ye,{asChild:!0,children:e.jsx(j,{variant:"outline",children:"Cancel"})}),e.jsxs(j,{type:"submit",form:"user-invite-form",children:["Invite ",e.jsx(es,{})]})]})]})})}const xe=J.createContext(null);function As({children:s}){const[a,t]=Ie(null),[l,r]=g.useState(null);return e.jsx(xe,{value:{open:a,setOpen:t,currentRow:l,setCurrentRow:r},children:s})}const z=()=>{const s=J.useContext(xe);if(!s)throw new Error("useUsers has to be used within <UsersContext>");return s};function $s(){const{open:s,setOpen:a,currentRow:t,setCurrentRow:l}=z();return e.jsxs(e.Fragment,{children:[e.jsx(O,{open:s==="add",onOpenChange:()=>a("add")},"user-add"),e.jsx(xs,{open:s==="invite",onOpenChange:()=>a("invite")},"user-invite"),t&&e.jsxs(e.Fragment,{children:[e.jsx(O,{open:s==="edit",onOpenChange:()=>{a("edit"),setTimeout(()=>{l(null)},500)},currentRow:t},`user-edit-${t.id}`),e.jsx(us,{open:s==="delete",onOpenChange:()=>{a("delete"),setTimeout(()=>{l(null)},500)},currentRow:t},`user-delete-${t.id}`)]})]})}function Vs(){const{setOpen:s}=z();return e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(j,{variant:"outline",className:"space-x-1",onClick:()=>s("invite"),children:[e.jsx("span",{children:"Invite User"})," ",e.jsx(ue,{size:18})]}),e.jsxs(j,{className:"space-x-1",onClick:()=>s("add"),children:[e.jsx("span",{children:"Add User"})," ",e.jsx(ls,{size:18})]})]})}const S="DELETE";function ps({open:s,onOpenChange:a,table:t}){const[l,r]=g.useState(""),o=t.getFilteredSelectedRowModel().rows,i=()=>{if(l.trim()!==S){R.error(`Please type "${S}" to confirm.`);return}a(!1),R.promise(_(2e3),{loading:"Deleting users...",success:()=>(t.resetRowSelection(),`Deleted ${o.length} ${o.length>1?"users":"user"}`),error:"Error"})};return e.jsx(de,{open:s,onOpenChange:a,handleConfirm:i,disabled:l.trim()!==S,title:e.jsxs("span",{className:"text-destructive",children:[e.jsx(le,{className:"stroke-destructive me-1 inline-block",size:18})," ","Delete ",o.length," ",o.length>1?"users":"user"]}),desc:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"mb-2",children:["Are you sure you want to delete the selected users? ",e.jsx("br",{}),"This action cannot be undone."]}),e.jsxs(ce,{className:"my-4 flex flex-col items-start gap-1.5",children:[e.jsxs("span",{className:"",children:['Confirm by typing "',S,'":']}),e.jsx(w,{value:l,onChange:n=>r(n.target.value),placeholder:`Type "${S}" to confirm.`})]}),e.jsxs(ne,{variant:"destructive",children:[e.jsx(oe,{children:"Warning!"}),e.jsx(ie,{children:"Please be careful, this operation can not be rolled back."})]})]}),confirmText:"Delete",destructive:!0})}function gs({table:s}){const[a,t]=g.useState(!1),l=s.getFilteredSelectedRowModel().rows,r=i=>{const n=l.map(k=>k.original);R.promise(_(2e3),{loading:`${i==="active"?"Activating":"Deactivating"} users...`,success:()=>(s.resetRowSelection(),`${i==="active"?"Activated":"Deactivated"} ${n.length} user${n.length>1?"s":""}`),error:`Error ${i==="active"?"activating":"deactivating"} users`}),s.resetRowSelection()},o=()=>{const i=l.map(n=>n.original);R.promise(_(2e3),{loading:"Inviting users...",success:()=>(s.resetRowSelection(),`Invited ${i.length} user${i.length>1?"s":""}`),error:"Error inviting users"}),s.resetRowSelection()};return e.jsxs(e.Fragment,{children:[e.jsxs(ve,{table:s,entityName:"user",children:[e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(j,{variant:"outline",size:"icon",onClick:o,className:"size-8","aria-label":"Invite selected users",title:"Invite selected users",children:[e.jsx(Ye,{}),e.jsx("span",{className:"sr-only",children:"Invite selected users"})]})}),e.jsx(P,{children:e.jsx("p",{children:"Invite selected users"})})]}),e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(j,{variant:"outline",size:"icon",onClick:()=>r("active"),className:"size-8","aria-label":"Activate selected users",title:"Activate selected users",children:[e.jsx(he,{}),e.jsx("span",{className:"sr-only",children:"Activate selected users"})]})}),e.jsx(P,{children:e.jsx("p",{children:"Activate selected users"})})]}),e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(j,{variant:"outline",size:"icon",onClick:()=>r("inactive"),className:"size-8","aria-label":"Deactivate selected users",title:"Deactivate selected users",children:[e.jsx(os,{}),e.jsx("span",{className:"sr-only",children:"Deactivate selected users"})]})}),e.jsx(P,{children:e.jsx("p",{children:"Deactivate selected users"})})]}),e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsxs(j,{variant:"destructive",size:"icon",onClick:()=>t(!0),className:"size-8","aria-label":"Delete selected users",title:"Delete selected users",children:[e.jsx(me,{}),e.jsx("span",{className:"sr-only",children:"Delete selected users"})]})}),e.jsx(P,{children:e.jsx("p",{children:"Delete selected users"})})]})]}),e.jsx(ps,{table:s,open:a,onOpenChange:t})]})}function B({children:s,className:a="",contentClassName:t=""}){const l=g.useRef(null),[r,o]=g.useState(!1);return g.useEffect(()=>{if(js(l.current)){o(!0);return}o(!1)},[]),r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden sm:block",children:e.jsx($e,{delayDuration:0,children:e.jsxs(D,{children:[e.jsx(T,{asChild:!0,children:e.jsx("div",{ref:l,className:y("truncate",a),children:s})}),e.jsx(P,{children:e.jsx("p",{className:t,children:s})})]})})}),e.jsx("div",{className:"sm:hidden",children:e.jsxs(Oe,{children:[e.jsx(Be,{asChild:!0,children:e.jsx("div",{ref:l,className:y("truncate",a),children:s})}),e.jsx(Ke,{className:y("w-fit",t),children:e.jsx("p",{children:s})})]})})]}):e.jsx("div",{ref:l,className:y("truncate",a),children:s})}const js=s=>s?s.offsetHeight<s.scrollHeight||s.offsetWidth<s.scrollWidth:!1;function fs({row:s}){const{setOpen:a,setCurrentRow:t}=z();return e.jsx(e.Fragment,{children:e.jsxs(Ve,{modal:!1,children:[e.jsx(Ee,{asChild:!0,children:e.jsxs(j,{variant:"ghost",className:"data-[state=open]:bg-muted flex h-8 w-8 p-0",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(qe,{align:"end",className:"w-[160px]",children:[e.jsxs(q,{onClick:()=>{t(s.original),a("edit")},children:["Edit",e.jsx(H,{children:e.jsx(ts,{size:16})})]}),e.jsx(He,{}),e.jsxs(q,{onClick:()=>{t(s.original),a("delete")},className:"text-red-500!",children:["Delete",e.jsx(H,{children:e.jsx(me,{size:16})})]})]})]})})}const K=[{id:"select",header:({table:s})=>e.jsx(L,{checked:s.getIsAllPageRowsSelected()||s.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:a=>s.toggleAllPageRowsSelected(!!a),"aria-label":"Select all",className:"translate-y-[2px]"}),meta:{className:y("sticky md:table-cell start-0 z-10 rounded-tl-[inherit]")},cell:({row:s})=>e.jsx(L,{checked:s.getIsSelected(),onCheckedChange:a=>s.toggleSelected(!!a),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"username",header:({column:s})=>e.jsx(C,{column:s,title:"Username"}),cell:({row:s})=>e.jsx(B,{className:"max-w-36 ps-3",children:s.getValue("username")}),meta:{className:y("drop-shadow-[0_1px_2px_rgb(0_0_0_/_0.1)] dark:drop-shadow-[0_1px_2px_rgb(255_255_255_/_0.1)]","sticky start-6 @4xl/content:table-cell @4xl/content:drop-shadow-none")},enableHiding:!1},{id:"fullName",header:({column:s})=>e.jsx(C,{column:s,title:"Name"}),cell:({row:s})=>{const{firstName:a,lastName:t}=s.original,l=`${a} ${t}`;return e.jsx(B,{className:"max-w-36",children:l})},meta:{className:"w-36"}},{accessorKey:"email",header:({column:s})=>e.jsx(C,{column:s,title:"Email"}),cell:({row:s})=>e.jsx("div",{className:"w-fit text-nowrap",children:s.getValue("email")})},{accessorKey:"phoneNumber",header:({column:s})=>e.jsx(C,{column:s,title:"Phone Number"}),cell:({row:s})=>e.jsx("div",{children:s.getValue("phoneNumber")}),enableSorting:!1},{accessorKey:"status",header:({column:s})=>e.jsx(C,{column:s,title:"Status"}),cell:({row:s})=>{const{status:a}=s.original,t=ds.get(a);return e.jsx("div",{className:"flex space-x-2",children:e.jsx(Le,{variant:"outline",className:y("capitalize",t),children:s.getValue("status")})})},filterFn:(s,a,t)=>t.includes(s.getValue(a)),enableHiding:!1,enableSorting:!1},{accessorKey:"role",header:({column:s})=>e.jsx(C,{column:s,title:"Role"}),cell:({row:s})=>{const{role:a}=s.original,t=M.find(({value:l})=>l===a);return t?e.jsxs("div",{className:"flex items-center gap-x-2",children:[t.icon&&e.jsx(t.icon,{size:16,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm capitalize",children:s.getValue("role")})]}):null},filterFn:(s,a,t)=>t.includes(s.getValue(a)),enableSorting:!1,enableHiding:!1},{id:"actions",cell:fs}];function Es({data:s,search:a,navigate:t}){const[l,r]=g.useState({}),[o,i]=g.useState({}),[n,k]=g.useState([]),{columnFilters:U,onColumnFiltersChange:pe,pagination:ge,onPaginationChange:je,ensurePageInRange:A}=Ne({search:a,navigate:t,pagination:{defaultPage:1,defaultPageSize:10},globalFilter:{enabled:!1},columnFilters:[{columnId:"username",searchKey:"username",type:"string"},{columnId:"status",searchKey:"status",type:"array"},{columnId:"role",searchKey:"role",type:"array"}]}),N=be({data:s,columns:K,state:{sorting:n,pagination:ge,rowSelection:l,columnFilters:U,columnVisibility:o},enableRowSelection:!0,onPaginationChange:je,onColumnFiltersChange:pe,onRowSelectionChange:r,onSortingChange:k,onColumnVisibilityChange:i,getPaginationRowModel:_e(),getCoreRowModel:Fe(),getFilteredRowModel:Ue(),getSortedRowModel:Me(),getFacetedRowModel:Re(),getFacetedUniqueValues:Pe()});return g.useEffect(()=>{A(N.getPageCount())},[N,A]),e.jsxs("div",{className:'space-y-4 max-sm:has-[div[role="toolbar"]]:mb-16',children:[e.jsx(we,{table:N,searchPlaceholder:"Filter users...",searchKey:"username",filters:[{columnId:"status",title:"Status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Invited",value:"invited"},{label:"Suspended",value:"suspended"}]},{columnId:"role",title:"Role",options:M.map(b=>({...b}))}]}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(Ce,{children:[e.jsx(ke,{children:N.getHeaderGroups().map(b=>e.jsx(F,{className:"group/row",children:b.headers.map(c=>e.jsx(Se,{colSpan:c.colSpan,className:y("bg-background group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted",c.column.columnDef.meta?.className??""),children:c.isPlaceholder?null:V(c.column.columnDef.header,c.getContext())},c.id))},b.id))}),e.jsx(De,{children:N.getRowModel().rows?.length?N.getRowModel().rows.map(b=>e.jsx(F,{"data-state":b.getIsSelected()&&"selected",className:"group/row",children:b.getVisibleCells().map(c=>e.jsx(E,{className:y("bg-background group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted",c.column.columnDef.meta?.className??""),children:V(c.column.columnDef.cell,c.getContext())},c.id))},b.id)):e.jsx(F,{children:e.jsx(E,{colSpan:K.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(Te,{table:N}),e.jsx(gs,{table:N})]})}d.seed(67890);const qs=Array.from({length:500},()=>{const s=d.person.firstName(),a=d.person.lastName();return{id:d.string.uuid(),firstName:s,lastName:a,username:d.internet.username({firstName:s,lastName:a}).toLocaleLowerCase(),email:d.internet.email({firstName:s}).toLocaleLowerCase(),phoneNumber:d.phone.number({style:"international"}),status:d.helpers.arrayElement(["active","inactive","invited","suspended"]),role:d.helpers.arrayElement(["superadmin","admin","cashier","manager"]),createdAt:d.date.past(),updatedAt:d.date.recent()}});export{As as U,Vs as a,Es as b,$s as c,qs as u};
