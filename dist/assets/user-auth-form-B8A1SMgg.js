import{r as f,u as N,o as v,p as w,j as e,c as k,L as F,B as o,s as i,t as y,q as I}from"./index-Dh7oQLGv.js";import{u as L,a as P,F as S,b as c,c as l,d as m,e as d,f as u}from"./form-DTnPJ8DA.js";import{P as A,I as C,a as E}from"./password-input-HnSjP1Kd.js";import{I as U}from"./input-CQ2elyY-.js";import{L as M}from"./loader-circle-DXrAGjc0.js";import{c as T}from"./createLucideIcon-lxK-mJ-t.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],G=T("log-in",B),H=w({email:i().email("Please enter a valid email address"),password:i().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long")});function $({className:p,redirectTo:x,...h}){const[a,t]=f.useState(!1),j=N(),{auth:n}=v(),r=L({resolver:P(H),defaultValues:{email:"",password:""}});function g(s){t(!0);const b={accountNo:"ACC001",email:s.email,role:["user"],exp:Date.now()+1440*60*1e3};y.promise(I(2e3),{loading:"Signing in...",success:()=>(t(!1),n.setUser(b),n.setAccessToken("mock-access-token"),j({to:x||"/",replace:!0}),`Welcome back, ${s.email}!`),error:"Error"})}return e.jsx(S,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(g),className:k("grid gap-3",p),...h,children:[e.jsx(c,{control:r.control,name:"email",render:({field:s})=>e.jsxs(l,{children:[e.jsx(m,{children:"Email"}),e.jsx(d,{children:e.jsx(U,{placeholder:"name@example.com",...s})}),e.jsx(u,{})]})}),e.jsx(c,{control:r.control,name:"password",render:({field:s})=>e.jsxs(l,{className:"relative",children:[e.jsx(m,{children:"Password"}),e.jsx(d,{children:e.jsx(A,{placeholder:"********",...s})}),e.jsx(u,{}),e.jsx(F,{to:"/forgot-password",className:"text-muted-foreground absolute end-0 -top-0.5 text-sm font-medium hover:opacity-75",children:"Forgot password?"})]})}),e.jsxs(o,{className:"mt-2",disabled:a,children:[a?e.jsx(M,{className:"animate-spin"}):e.jsx(G,{}),"Sign in"]}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background text-muted-foreground px-2",children:"Or continue with"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(o,{variant:"outline",type:"button",disabled:a,children:[e.jsx(C,{className:"h-4 w-4"})," GitHub"]}),e.jsxs(o,{variant:"outline",type:"button",disabled:a,children:[e.jsx(E,{className:"h-4 w-4"})," Facebook"]})]})]})})}export{$ as U};
