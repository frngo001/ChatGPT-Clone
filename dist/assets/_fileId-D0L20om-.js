import{w as B,u as b,j as e,B as i}from"./index-DlyXNM32.js";import{C as h,a as f,b as j,c as u,d as p}from"./card-UJJc8RBG.js";import{B as N}from"./badge-4MZaojaY.js";import{S as n}from"./separator-DSCCOoBz.js";import{u as z}from"./dataset-store-CoBuKT71.js";import{A as g}from"./arrow-left-CEzyGm3M.js";import{D as v}from"./download-DPV0m-i_.js";import{S as I,T as S}from"./trash-2-D8W3KAoG.js";import{F as T}from"./file-text-BaU-O3O4.js";import"./index-BJhdZz4H.js";import"./middleware-BFCXRDQO.js";import"./createLucideIcon-C1NYoACq.js";function k(){const{datasetId:r,fileId:d}=B({from:"/_authenticated/library/datasets/$datasetId/files/$fileId"}),l=b(),{getDatasetById:D,removeFileFromDataset:F}=z(),a=D(r),t=a?.files.find(s=>s.id===d);if(!a||!t)return e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"File not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The file you're looking for doesn't exist."}),e.jsxs(i,{onClick:()=>l({to:`/library/datasets/${r}`}),children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back to Dataset"]})]})});const w=s=>new Intl.DateTimeFormat("de-DE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(s)),c=s=>{if(s===0)return"0 Bytes";const o=1024,C=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(s)/Math.log(o));return parseFloat((s/Math.pow(o,x)).toFixed(2))+" "+C[x]},m=s=>s.includes("image")?"🖼️":s.includes("pdf")?"📄":s.includes("text")?"📝":s.includes("video")?"🎥":s.includes("audio")?"🎵":"📁",y=()=>{confirm("Are you sure you want to delete this file?")&&(F(r,d),l({to:`/library/datasets/${r}`}))};return e.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(i,{variant:"ghost",size:"sm",onClick:()=>l({to:`/library/datasets/${r}`}),children:[e.jsx(g,{className:"mr-2 h-4 w-4"}),"Back to Dataset"]}),e.jsx(n,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:m(t.type)}),t.name]}),e.jsxs("p",{className:"text-muted-foreground",children:["From dataset: ",a.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Download"]}),e.jsxs(i,{variant:"outline",size:"sm",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:y,children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),e.jsxs(h,{children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-lg",children:"File Information"}),e.jsx(u,{children:"Details about this file"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"File Name"}),e.jsx("p",{className:"text-sm",children:t.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"File Type"}),e.jsx("p",{className:"text-sm",children:t.type})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"File Size"}),e.jsx("p",{className:"text-sm",children:c(t.size)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Upload Date"}),e.jsx("p",{className:"text-sm",children:w(t.uploadDate)})]})]}),e.jsx(n,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Dataset"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"secondary",children:a.name}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.files.length," files total"]})]}),a.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.description})]}),a.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(n,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.tags.map(s=>e.jsx(N,{variant:"outline",className:"text-xs",children:s},s))})]})]})]})})]}),e.jsxs(h,{children:[e.jsxs(f,{children:[e.jsx(j,{className:"text-lg",children:"File Content"}),e.jsx(u,{children:"Preview of the file content"})]}),e.jsx(p,{children:e.jsx("div",{className:"flex items-center justify-center py-12 text-center",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-6xl",children:m(t.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsxs("p",{className:"text-muted-foreground",children:[t.type," • ",c(t.size)]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs(i,{variant:"outline",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Download File"]}),e.jsxs(i,{variant:"outline",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"View Content"]})]})]})})})]})]})}const V=k;export{V as component};
